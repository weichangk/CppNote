# 构造函数、析构函数、拷贝构造函数
git：https://github.com/weichangk/hellocpp/tree/master/class

## 构造函数概述
构造函数是一种特殊的成员函数，用于创建对象时初始化对象的数据成员。在C++中，构造函数的名称与类名相同，没有返回类型，可以有参数。当创建对象时，构造函数会自动调用，以初始化对象的数据成员。

构造函数有以下特点：
- 构造函数的名称与类名相同，没有返回类型，可以有参数。
- 构造函数可以有多个重载版本，根据参数的不同进行区分。
- 构造函数可以被继承，但不能被继承的构造函数包括拷贝构造函数和移动构造函数。
- 如果没有定义构造函数，编译器会自动生成一个默认构造函数，用于初始化对象的数据成员。
- 如果存在构造函数重载，编译器不再提供默认构造函数，如果还要使用默认构造函数进行初始化时需要显示提供。
- 构造函数可以使用初始化列表来初始化对象的数据成员，也可以在函数体内进行初始化。
- 构造函数可以被声明为虚函数，但通常不建议这样做。

## 析构函数概述
在C++中，析构函数是一种特殊的成员函数，用于在对象被销毁时释放对象所占用的资源。析构函数的名称与类名相同，但在名称前面加上一个波浪号（~）。

析构函数有以下特点：
- 析构函数的名称与类名相同，但在名称前面加上一个波浪号（~）。
- 析构函数没有参数，也没有返回值。
- 析构函数会在对象被销毁时自动调用，用于释放对象所占用的资源。
- 如果没有定义析构函数，编译器会自动生成一个默认析构函数，用于释放对象所占用的资源。
- 析构函数可以被继承，但通常不建议这样做。

## 构造函数、析构函数定义
下面是一个简单的构造函数、析构函数示例：
```
class Person {
public:
  Person() {
    age = 0;
    name = "";
  }
  Person(int a, string n) {
    age = a;
    name = n;
  }
  ~Person() {
    cout << "Person object is destroyed." << endl;
  }
private:
  int age;
  string name;
};
```
在上面的示例中，Person类有两个构造函数，一个是默认构造函数，另一个是带参数的构造函数。默认构造函数用于初始化age和name成员变量，而带参数的构造函数用于在创建对象时初始化age和name成员变量。

Person类有一个析构函数，用于在对象被销毁时输出一条消息。当对象被销毁时，析构函数会自动调用，输出一条消息。另外，如果需要在析构函数中释放对象所占用的资源，可以在析构函数中进行相应的操作。例如，如果对象中包含动态分配的内存，可以在析构函数中释放该内存。

## 构造函数、析构函数使用
```
int main()
{
  Person p1;                  //隐式调用默认无参构造函数（推荐）
  Person p2 = Person();       //显示调用默认无参构造函数
  Person p3(0, "");           //隐式调用有参构造函数（推荐）
  Person p4 = Person(0, "");  //显示调用有参构造函数

  //匿名对象
  Person();  
  Person(0, "");  

  //构造函数 隐式转换（类中只有一个数据成员）
  //Person p5 = 100;
}
```
