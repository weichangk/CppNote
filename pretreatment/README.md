# pretreatment 预处理

## 内存分配
在C++程序中，内存被划分为以下几个区域：
1. 栈区（stack）： 存储函数的局部变量、参数的值、返回值以及函数调用的上下文等信息。由编译器自动分配和释放内存。栈是一种"后进先出"的结构，所以后定义的变量先被销毁。

2. 堆区（heap）： 通常用于动态分配内存，也称为自由存储区。需要手动分配和释放内存。通常使用 new 和 delete 操作符来分配和释放内存。

3. 全局/静态区（global/static）： 存储全局变量和静态变量，在程序生命周期内一直存在。

4. 常量区（constant）： 存储字符串常量和其他类型的不可修改的数据。

5. 代码区：代码的二进制指令。

至于具体的代码、数据等存储在哪些区域，则取决于它们的类型、作用域等特征。比如：
1. 函数内部的局部变量通常存储在栈区；
2. 全局变量和静态变量通常存储在全局区；
3. const修饰的全局变量和字符串常量通常存储在常量存储区；

在程序运行期间，各个存储区域的大小可以根据需要进行动态调整。需要注意优化代码时，合理地利用栈区和堆区的存储空间，避免因为占用大量内存而导致程序崩溃或者性能下降。

## 变量存储
### 普通局部变量
定义形式：在{}里面定义的普通变量叫普通局部变量
```
void func()
{//{}复合语句
  int num = 10;//num 局部变量
  {
    int num = 20;
    cout << num << endl;//20
    int data = 0;//data 局部变量
  }
  cout << num << endl;//10
}
```
作用范围：所在的{}复合语句之间有效
生命周期：所在的{}复合语句之间有效，执行到离开大括号普通局部变量就被自动回收
存储区域：栈区
注意：
1. 普通局部局部变量不初始化内容将不确定
2. 普通局部变量同名就近原则

### 普通全局变量
定义形式：在函数外定义的普通变量
```
//01_func.cpp
extern int data;//声明data为外部变量，来自其他源文件
int a = 10;//普通全局变量
void func()
{
  int a = 20;
  cout << ::a << endl;//10
  cout << data << endl;
}
```
```
//02_func.cpp
int data;
void func()
{
  int a = 20;
  cout << ::a << endl;//10
}
```
作用范围：当前源文件以及其他源文件都有效
生命周期：整个进程
存储区域：全局区
注意：
1. 全局变量不初始化内容将取变量类型默认值
2. 全局变量和局部变量同名优先选择局部变量，如果要在局部变量所在{}复合语句内访问同名全局变量需要通过作用域::访问
3. 要使用其他源文件的全局变量必须先对全局变量进行 extern 声明，在变量的使用所在的源文件用extern声明为外部变量，该变量或函数来自其他源文件。
### 静态局部变量
### 静态全局变量
## 全局函数和静态函数

## 头文件包含

## #define宏